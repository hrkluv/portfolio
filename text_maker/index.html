<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="../css/global.css">
  <link rel="stylesheet" href="./css/main.css">
</head>
<body class="text_maker">

<header>
  <h1>text_maker</h1>
</header>

<div class="maker_head_container">
<div class="maker_wrap" id="vueMakerWrap">
  <transition mode="out-in"
    v-on:enter="enter"
  >
  <div class="diagnosis_start transition_cont" v-if="showStart" key="start" v-cloak>
    <p><strong>おもしろい組み合わせが<br>
    できるかな？？</strong></p>
    <div class="user_name"><input type="text" value="your name"></div>
    <div class="btn_wrap"><a href="#" class="btn_meker" :class="stopClick" @click.prevent="onDiagnosis">診断する</a></div>
  </div><!--/diagnosis_start-->
  <div class="diagnosis_result transition_cont" v-if="showResult" key="result" v-cloak>
    <div class="label"><strong>診断結果</strong></div>
    <p class="description">あなたの結果は…</p>
    <div class="flex_wrap">
      <p class="result_text"><strong>「{{resultText}}」</strong><br>
      …かも！？</p>
    </div>
    <div class="btn_wrap">
      <a href="#" class="btn_meker" @click.prevent="onEntry">この結果を使う</a>
      <a href="#" class="btn_gray" :class="stopClick" @click.prevent="onReDiagnosis">もう一度やる</a>
    </div>
  </div><!--/diagnosis_result-->
  <div class="diagnosis_tweet transition_cont" v-if="showTweet" key="tweet" v-cloak>
    <div class="label">
      <strong>つぶやき投稿</strong>
    </div>
    <form action="/short_message/" method="post" enctype="multipart/form-data" name="short_message_form" @submit.prevent="submitTweet" ref="tweetForm">
    <div class="tweet_body">
      <textarea name="short_message_body" rows="2" placeholder="今の気分をつぶやいてみよう!" ref="textarea" @keyup="onKeyup"></textarea>
      <span class="count">{{textareaCount}}/40</span>
    </div>
    <div class="btn_wrap">
      <input type="submit" value="つぶやく" class="btn_meker">
      <a href="#" class="btn_gray" :class="stopClick" @click.prevent="onReDiagnosis">もう一度やる</a>
    </div>
    </form>
  </div><!--diagnosis_tweet-->
  <div class="diagnosis_finished transition_cont" v-if="showFinished" key="finished" v-cloak>
    <div class="body">
      <p><b>投稿完了！</b></p>
    </div>
    <div class="btn">
      <a href="#" class="btn_gray" @click.prevent="onReDiagnosis">もう一度やる</a>
    </div>
  </div>
  </transition>
</div><!--/vueMakerWrap-->

</div><!--/maker_head_container-->

<script src="./vue/index.js"></script>
</body>
</html>